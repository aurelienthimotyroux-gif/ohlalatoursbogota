<!DOCTYPE html>
<html lang="{{ get_locale() }}">
<head>
  <meta charset="UTF-8" />
  <title>{{ _("Accueil") }} ‚Äî Oh La La Tours Bogot√°</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <!-- Meta description (r√©sum√© SEO) -->
  <meta name="description" content="{{ _('Visites guid√©es √† Bogot√° avec Alejandra, guide locale. Tours priv√©s en fran√ßais, anglais et espagnol : Candelaria, Monserrate, Zipaquir√°, caf√© (Hacienda Coloma), transport et transferts a√©roport.') }}">

  <!-- Keywords (facultatif mais ok pour certains moteurs/outils) -->
  <meta name="keywords" content="visite guid√©e Bogot√°, guide francophone Bogot√°, excursion Bogot√°, tours priv√©s Bogot√°, visiter la Candelaria Bogot√°, excursion Zipaquir√° depuis Bogot√°, randonn√©e Monserrate Bogot√°, caf√©, Bogota, Colombie, Monserrate, Zipaquira, Coloma, Hacienda Coloma, guide, tejo, Chapinero, h√¥tel, hostel, Alejandra, gastronomie, pesos, taxi, transport, van, a√©roport, fran√ßais, anglais, espagnol, Aguila, Club Colombia, histoire, tours exceptionnels">

  <!-- Canonical + Hreflang (i18n) -->
  <link rel="canonical" href="https://www.ohlalatoursbogota.com{{ request.path }}{% if get_locale()!='fr' %}?lang={{ get_locale() }}{% endif %}">
  <link rel="alternate" href="{{ url_for('index', lang='fr', _external=True) }}" hreflang="fr">
  <link rel="alternate" href="{{ url_for('index', lang='en', _external=True) }}" hreflang="en">
  <link rel="alternate" href="{{ url_for('index', lang='es', _external=True) }}" hreflang="es">
  <link rel="alternate" href="{{ url_for('index', lang='fr', _external=True) }}" hreflang="x-default">

  <!-- Open Graph / Twitter Cards -->
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://www.ohlalatoursbogota.com{{ request.path }}{% if get_locale()!='fr' %}?lang={{ get_locale() }}{% endif %}">
  <meta property="og:site_name" content="Oh La La Tours Bogot√°">
  <meta property="og:title" content="{{ _('Visites guid√©es √† Bogot√° ‚Äì Guide francophone & tours priv√©s') }}">
  <meta property="og:description" content="{{ _('D√©couvrez Bogot√° : Candelaria, Monserrate, Zipaquir√°, caf√© √† Hacienda Coloma. Visites en fran√ßais, anglais et espagnol. Transferts a√©roport, chauffeur/van priv√©.') }}">
  <meta property="og:image" content="{{ url_for('static', filename='images/accueil.jpg', _external=True) }}">
  {% if get_locale() == 'fr' %}
  <meta property="og:locale" content="fr_FR">
  {% elif get_locale() == 'en' %}
  <meta property="og:locale" content="en_US">
  {% else %}
  <meta property="og:locale" content="es_CO">
  {% endif %}

  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="{{ _('Visites guid√©es √† Bogot√° ‚Äì Guide francophone & tours priv√©s') }}">
  <meta name="twitter:description" content="{{ _('D√©couvrez Bogot√° : Candelaria, Monserrate, Zipaquir√°, caf√© √† Hacienda Coloma. Visites en fran√ßais, anglais et espagnol. Transferts a√©roport, chauffeur/van priv√©.') }}">
  <meta name="twitter:image" content="{{ url_for('static', filename='images/accueil.jpg', _external=True) }}">

  <!-- CSS principal -->
  <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">

  <!-- Police Poppins -->
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600&display=swap" rel="stylesheet">

  <!-- Sprite d'ic√¥nes SVG (√©toiles) -->
  <svg xmlns="http://www.w3.org/2000/svg" style="display:none;">
    <!-- √âtoile pleine -->
    <symbol id="icon-star-full" viewBox="0 0 24 24" aria-hidden="true">
      <path fill="#ffb400" d="M12 17.27 18.18 21l-1.64-7.03L22 9.24l-7.19-.62L12 2 9.19 8.62 2 9.24l5.46 4.73L5.82 21z"/>
    </symbol>
    <!-- Demi √©toile -->
    <symbol id="icon-star-half" viewBox="0 0 24 24" aria-hidden="true">
      <path fill="#ffb400" d="M12 17.27V2L9.19 8.62 2 9.24l5.46 4.73L5.82 21z"/>
      <path fill="none" stroke="#ffb400" stroke-width="1.5" d="M12 17.27 18.18 21l-1.64-7.03L22 9.24l-7.19-.62L12 2 9.19 8.62 2 9.24l5.46 4.73L5.82 21z"/>
    </symbol>
    <!-- √âtoile vide -->
    <symbol id="icon-star-empty" viewBox="0 0 24 24" aria-hidden="true">
      <path fill="none" stroke="#ffb400" stroke-width="1.5" d="M12 17.27 18.18 21l-1.64-7.03L22 9.24l-7.19-.62L12 2 9.19 8.62 2 9.24l5.46 4.73L5.82 21z"/>
    </symbol>
  </svg>

  <!-- Styles sp√©cifiques Avis -->
  <style>
    .testimonials { background:#fff; padding:40px 20px; margin-top:40px; }
    .testimonials .container { max-width:1000px; margin:0 auto; }
    .testimonials h2 { text-align:center; margin-bottom:22px; font-size:28px; }

    .testimonials-grid { display:grid; grid-template-columns:repeat(3,1fr); gap:18px; }
    @media (max-width:1024px){ .testimonials-grid{ grid-template-columns:repeat(2,1fr);} }
    @media (max-width:640px){ .testimonials-grid{ grid-template-columns:1fr;} }

    .testimonial-card { background:#fafafa; border:1px solid #eee; border-radius:12px; padding:16px; box-shadow:0 4px 14px rgba(0,0,0,.06); }

    .t-head { display:grid; grid-template-columns:auto 1fr; gap:6px 10px; align-items:center; margin-bottom:10px; }
    .t-name { font-weight:600; }
    .t-meta { color:#666; font-size:14px; }

    .t-stars { display:inline-flex; gap:4px; align-items:center; margin-bottom:8px; }
    .t-stars svg { width:18px; height:18px; }

    .testimonial-card .t-text{
      font-size:15px; color:#333; line-height:1.5; white-space:pre-wrap; word-break:break-word;
    }
    .testimonial-card .t-text.clamp{
      display:-webkit-box;
      -webkit-box-orient:vertical;
      -webkit-line-clamp:4;
      overflow:hidden;
    }
    .testimonial-card.expanded .t-text{
      -webkit-line-clamp:unset;
      display:block;
      overflow:visible;
    }

    .testimonial-card .t-toggle{
      margin-top:8px; background:none; border:0; color:#007bff; font:inherit; cursor:pointer; padding:0;
    }
    .testimonial-card .t-toggle:hover{ text-decoration:underline; }

    .comment-section-title { text-align:center; font-size:2rem; margin-bottom:20px; }

    .hero .nav-hero a { text-decoration:none; }
    .hero .nav-hero a:focus { outline:2px dashed #333; outline-offset:3px; }

    /* utilitaire accessibilit√© */
    .sr-only {
      position: absolute !important;
      width: 1px; height: 1px;
      padding: 0; margin: -1px; overflow: hidden;
      clip: rect(0,0,1px,1px); white-space: nowrap; border: 0;
    }
    /* flashes */
    .flash-wrap { max-width:1000px; margin:16px auto; padding:0 20px; }
    .flash { margin:8px 0; padding:10px; border-radius:8px; }
    .flash-success{ background:#eefbf0; border:1px solid #b7ebc6; color:#1b5e20; }
    .flash-error{ background:#fdeaea; border:1px solid #f5c2c2; color:#8a1f1f; }
  </style>

  <!-- JS Lire plus / Lire moins -->
  <script>
    function toggleText(index) {
      var textElement = document.getElementById("comment-" + index);
      if (!textElement) return;

      var card = textElement.closest(".testimonial-card");
      var full = textElement.dataset.full || "";

      if (!textElement.dataset.preview) {
        textElement.dataset.preview = textElement.textContent; // sauvegarde l‚Äôaper√ßu
      }
      var preview = textElement.dataset.preview;

      var toggleButton = textElement.nextElementSibling;
      var isExpanded = card.classList.contains("expanded");

      if (isExpanded) {
        textElement.textContent = preview;
        card.classList.remove("expanded");
        if (toggleButton) toggleButton.textContent = "{{ _('Lire plus') }}";
      } else {
        textElement.textContent = full;
        card.classList.add("expanded");
        if (toggleButton) toggleButton.textContent = "{{ _('Lire moins') }}";
      }
    }
  </script>

  <!-- Donn√©es structur√©es (SEO local) -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "TouristInformationCenter",
    "name": "Oh La La Tours Bogot√°",
    "url": "https://www.ohlalatoursbogota.com/",
    "image": "{{ url_for('static', filename='images/accueil.jpg', _external=True) }}",
    "areaServed": "Bogot√°, Colombia",
    "address": { "@type": "PostalAddress", "addressLocality": "Bogot√°", "addressCountry": "CO" },
    "availableLanguage": ["French","Spanish","English"],
    "email": "alejandramontana25.18@gmail.com",
    "telephone": "+57-350-538-4537",
    "sameAs": []
  }
  </script>
</head>
<body>

  <header class="hero" style="background-image: url('{{ url_for('static', filename='images/accueil.jpg') }}');">
    <div class="hero-topbar">
      <div id="lang-switcher" aria-label="{{ _('Choix de la langue') }}">
        <a href="{{ lang_url('fr') }}" aria-label="Fran√ßais">üá´üá∑</a> |
        <a href="{{ lang_url('en') }}" aria-label="English">üá∫üá∏</a> |
        <a href="{{ lang_url('es') }}" aria-label="Espa√±ol">üá®üá¥</a>
      </div>
      <nav class="nav-hero" aria-label="{{ _('Navigation principale') }}">
        <a href="{{ url_for('index', lang=get_locale()) }}">{{ _("Accueil") }}</a> |
        <a href="{{ url_for('tours', lang=get_locale()) }}">{{ _("Nos tours") }}</a> |
        <a href="{{ url_for('transport', lang=get_locale()) }}">{{ _("Service de Transport") }}</a> |
        <a href="{{ url_for('reservation', lang=get_locale()) }}">{{ _("R√©servation") }}</a>
      </nav>
    </div>
    <h1 class="hero-title">{{ _("Bienvenue √† Bogot√° !") }}</h1>
  </header>

  <!-- Messages flash -->
  {% with msgs = get_flashed_messages(with_categories=true) %}
    {% if msgs %}
      <div class="flash-wrap" role="status" aria-live="polite">
        {% for cat, msg in msgs %}
          <div class="flash flash-{{ cat }}">
            {{ msg }}
          </div>
        {% endfor %}
      </div>
    {% endif %}
  {% endwith %}

  <main style="max-width: 1000px; margin: 30px auto; padding: 0 20px;">
    <section>
      <p>{{ _("Je suis Alejandra, guide locale passionn√©e, et je vous invite √† d√©couvrir une Bogot√° authentique, vibrante et pleine de vie.") }}</p>
      <p>{{ _("√Ä travers mes visites en petits groupes, nous explorerons son histoire, sa culture et ses saveurs : balades dans les quartiers historiques, exp√©riences culinaires, escapades en pleine nature et excursions uniques aux alentours, comme la c√©l√®bre Cath√©drale de sel de Zipaquir√°.") }}</p>
      <p>{{ _("Plus qu‚Äôune simple visite, je vous propose une immersion vivante et chaleureuse, une exp√©rience √† ressentir et √† emporter avec vous.") }}</p>
      <!-- L√©g√®re optimisation s√©mantique/SEO -->
      <p>{{ _("Je propose des visites guid√©es √† Bogot√° avec un guide francophone, des tours priv√©s vers la Candelaria, Monserrate et Zipaquir√°, ainsi qu‚Äôun service de transport (taxi/van) et transferts a√©roport.") }}</p>
    </section>

    <section style="margin-top: 20px;">
      <a class="btn" href="{{ url_for('tours', lang=get_locale()) }}" role="button" style="display:inline-block;padding:10px 16px;border-radius:8px;background:#222;color:#fff;text-decoration:none;">{{ _("Voir les types de visites") }}</a>
      <a class="btn" href="{{ url_for('reservation', lang=get_locale()) }}" role="button" style="display:inline-block;padding:10px 16px;border-radius:8px;background:#007bff;color:#fff;text-decoration:none;margin-left:10px;">{{ _("R√©server maintenant") }}</a>
    </section>
  </main>

  <!-- SECTION CONTACT -->
  <section style="background: #f9f9f9; padding: 40px 20px; margin-top: 40px;">
    <div style="max-width: 1000px; margin: auto; display: flex; flex-wrap: wrap; align-items: flex-start; gap: 20px;">
      <div style="flex: 1; min-width: 250px; min-height: 300px;">
        <img 
          src="{{ url_for('static', filename='images/alejandra.jpg') }}"
          alt="{{ _('Alejandra, votre guide √† Bogot√°') }}"
          style="display: block; width: 100%; height: 100%; object-fit: cover; border-radius: 10px; background: #ddd;">
      </div>
      <div style="flex: 1; min-width: 250px;">
        <h2>{{ _("Contact") }}</h2>
        <p><strong>{{ _("Email") }} :</strong> <a href="mailto:alejandramontana25.18@gmail.com">alejandramontana25.18@gmail.com</a></p>
        <p><strong>{{ _("WhatsApp") }} :</strong> <a href="https://wa.me/573505384537" target="_blank" rel="noopener">+57 350 538 4537</a></p>
        <p>{{ _("N‚Äôh√©sitez pas √† me contacter pour toute question ou r√©servation.") }}</p>
      </div>
    </div>
  </section>

  <!-- Section Laisser un Commentaire -->
  <section style="max-width: 1000px; margin: 30px auto; padding: 0 20px;">
    <h2 class="comment-section-title">{{ _("√Ä votre tour de laisser un joli commentaire") }}</h2>
    <form method="POST" action="{{ url_for('submit_comment', lang=get_locale()) }}" style="background:#fafafa; border-radius:14px; padding:20px; box-shadow:0 6px 18px rgba(0,0,0,0.08); display:grid; gap:12px; max-width:600px;">
      <label>{{ _("Votre nom et pays") }}<br><input name="name" required aria-required="true"></label>
      <label>{{ _("Votre commentaire") }}<br><textarea name="message" rows="4" required aria-required="true"></textarea></label>
      <label>{{ _("Votre note") }}<br>
        <select name="rating" required aria-required="true">
          <option value="1">‚òÖ</option><option value="2">‚òÖ‚òÖ</option><option value="3">‚òÖ‚òÖ‚òÖ</option><option value="4">‚òÖ‚òÖ‚òÖ‚òÖ</option><option value="5">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</option>
        </select>
      </label>
      <button type="submit">{{ _("Envoyer") }}</button>
    </form>
  </section>

  <!-- Section Commentaires -->
  <section class="testimonials">
    <div class="container">
      <h2>{{ _("Avis des voyageurs") }}</h2>

      {# ===== Affiche d'abord les commentaires dynamiques s'ils existent ===== #}
      {% if comments and comments|length > 0 %}
        <div class="testimonials-grid">
          {% for comment in comments %}
            <div class="testimonial-card">
              <div class="t-head">
                <div class="t-name">{{ comment.name }}{% if comment.country %} ¬∑ {{ comment.country }}{% endif %}</div>
                <div class="t-meta">{{ comment.date }}</div>
              </div>
              <div class="t-stars" aria-label="{{ comment.rating }} / 5">
                {% for i in range(1, 6) %}
                  {% if comment.rating >= i %}
                    <svg><use href="#icon-star-full"></use></svg>
                  {% elif comment.rating >= i - 0.5 %}
                    <svg><use href="#icon-star-half"></use></svg>
                  {% else %}
                    <svg><use href="#icon-star-empty"></use></svg>
                  {% endif %}
                {% endfor %}
                <span class="sr-only">{{ comment.rating }} / 5</span>
              </div>
              <p
                class="t-text{% if comment.message|length > 200 %} clamp{% endif %}"
                id="comment-{{ loop.index }}"
                data-full="{{ comment.message|e }}"
              >
                {% if comment.message|length > 200 %}
                    {{ comment.message[:200] }}...
                {% else %}
                    {{ comment.message }}
                {% endif %}
              </p>
              {% if comment.message|length > 200 %}
                <button class="t-toggle" onclick="toggleText('{{ loop.index }}')">
                  {{ _("Lire plus") }}
                </button>
              {% endif %}
            </div>
          {% endfor %}
        </div>

      {% else %}
        {# ===== Sinon, on garde ta liste statique existante (fallback) ===== #}
        <div class="testimonials-grid">
          {% set comments = [
          {"name": "Francis", "country": "Canada", "date": "12 mai 2025", "rating": 5, "message": _("L‚Äôexp√©rience est super. Alejandra prend son temps pour nous expliquer et r√©pondre √† nos questions.")},
          {"name": "Katy", "country": "Mexique", "date": "21 mars 2023", "rating": 5, "message": _("Recommand√©. La communication avec Alejandra √©tait excellente avant et pendant, tout ce qui √©tait d√©crit √©tait respect√© et toujours √† l'√©coute de nos besoins. C‚Äôest probablement un lieu que vous devez visiter si vous venez √† Bogot√° : belles vues et cath√©drale de sel √† couper le souffle.")},
          {"name": "Liliana", "country": "√âtats-Unis", "date": "4 mars 2023", "rating": 4.5, "message": _("Exp√©rience incroyable ! Alejandra et son p√®re (Omar) ont pris soin des besoins sp√©ciaux de mon mari, et tout a √©t√© fait √† 100%%. La Catedral de Sal, la cuisine traditionnelle √† Brasas del Llano : une exp√©rience culturelle 5 √©toiles. Nous recommandons Alejandra si vous voulez une visite avec une amie. Merci beaucoup, √† la prochaine !")},
          {"name": "Marvin", "country": "Mexique", "date": "15 septembre 2022", "rating": 5, "message": _("Alejandra et son p√®re sont extraordinaires et nous ont offert une tr√®s belle journ√©e √† Zipaquir√°. Nous repartons avec d‚Äôexcellents souvenirs. Merci !")},
          {"name": "Oscar", "country": "Costa Rica", "date": "8 janvier 2023", "rating": 4.5, "message": _("Merci beaucoup pour votre gentillesse et votre disponibilit√©. Super recommand√©.")},
          {"name": "Sam", "country": "√âtats-Unis", "date": "14 ao√ªt 2022", "rating": 5, "message": _("Alejandra et son p√®re Omar ont √©t√© des h√¥tes parfaits, tr√®s attentifs √† ma mani√®re de vouloir profiter de la visite.")},
          {"name": "Kristina", "country": "Mexique", "date": "27 ao√ªt 2022", "rating": 5, "message": _("Nous recommandons cette exp√©rience. Nous avons pass√© un excellent moment. Alejandra et son p√®re sont polis et sympathiques.")},
          {"name": "Jorge", "country": "Mexique", "date": "11 ao√ªt 2022", "rating": 5, "message": _("Hautement recommand√©. Alejandra et son p√®re ont √©t√© tr√®s sympathiques et √† notre √©coute √† tout moment. Exp√©rience 100%% recommand√©e !")},
          {"name": "Fabiola", "country": "Mexique", "date": "11 ao√ªt 2022", "rating": 5, "message": _("Du d√©but √† la fin, une exp√©rience tr√®s agr√©able. Alejandra et son p√®re Omar ont √©t√© tr√®s attentifs et gentils. Petit-d√©jeuner et d√©jeuner d√©licieux. Ils nous ont laiss√© profiter de la cath√©drale √† notre rythme : appr√©ci√© !")},
          {"name": "Luna", "country": "Costa Rica", "date": "25 juillet 2019", "rating": 5, "message": _("Voyage bien planifi√©. √Ä l‚Äôheure pour le pickup √† l‚Äôh√¥tel. Pendant le trajet, Alejandra et Omar sont tr√®s sympathiques et patients.")},
          {"name": "Yuliana", "country": "Costa Rica", "date": "18 juillet 2019", "rating": 5, "message": _("Ale et Omar (son papa) sont super sympas et tr√®s impliqu√©s pour que vous vous sentiez comme chez vous.")},
          {"name": "Ann", "country": "√âtats-Unis", "date": "22 f√©vrier 2020", "rating": 5, "message": _("Alejandra et son p√®re ont √©t√© sympathiques, r√©actifs √† nos questions, et nous ont emmen√©s sur des sites fascinants que nous n‚Äôaurions jamais trouv√©s seuls. Une exp√©rience tr√®s agr√©able.")},
          {"name": "Nancy", "country": "Mexique", "date": "30 juillet 2019", "rating": 5, "message": _("L‚Äôune des meilleures exp√©riences √† ne pas manquer. Alejandra et son papa, M. Omar, sont extr√™mement gentils, √† l‚Äô√©coute, et tr√®s ponctuels. Parcours agr√©able, caf√© sur la place, √©changes culturels, visite impressionnante de la cath√©drale de sel, puis d√©jeuner de plats typiques. Merci pour votre hospitalit√©, je reviendrais sans h√©siter !")}
          ] %}
          {% for comment in comments %}
            <div class="testimonial-card">
              <div class="t-head">
                <div class="t-name">{{ comment.name }} ¬∑ {{ comment.country }}</div>
                <div class="t-meta">{{ comment.date }}</div>
              </div>
              <div class="t-stars" aria-label="{{ comment.rating }} / 5">
                {% for i in range(1, 6) %}
                  {% if comment.rating >= i %}
                    <svg><use href="#icon-star-full"></use></svg>
                  {% elif comment.rating >= i - 0.5 %}
                    <svg><use href="#icon-star-half"></use></svg>
                  {% else %}
                    <svg><use href="#icon-star-empty"></use></svg>
                  {% endif %}
                {% endfor %}
                <span class="sr-only">{{ comment.rating }} / 5</span>
              </div>
              <p
                class="t-text{% if comment.message|length > 200 %} clamp{% endif %}"
                id="comment-{{ loop.index }}"
                data-full="{{ comment.message|e }}"
              >
                {% if comment.message|length > 200 %}
                    {{ comment.message[:200] }}...
                {% else %}
                    {{ comment.message }}
                {% endif %}
              </p>
              {% if comment.message|length > 200 %}
                <button class="t-toggle" onclick="toggleText('{{ loop.index }}')">
                  {{ _("Lire plus") }}
                </button>
              {% endif %}
            </div>
          {% endfor %}
        </div>
      {% endif %}
    </div>
  </section>

</body>
</html>

