<!DOCTYPE html>
<html lang="{{ get_locale() }}">
<head>
  <meta charset="UTF-8">
  <title>{{ _("Types de visites") }} — Oh La La Tours Bogotá</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <!-- SEO -->
  <meta name="description" content="{{ _('Tours privés à Bogotá : Candelaria, Monserrate, Zipaquirá, La Chorrera et finca café (Hacienda Coloma). Guide francophone, anglais et espagnol. Transport/van et transferts aéroport disponibles.') }}">
  <meta name="keywords" content="tours privés Bogota visite guidée Bogota guide francophone Bogota excursion Zipaquira randonnée Monserrate Candelaria Hacienda Coloma cascade La Chorrera transport privé Bogota van transfert aéroport Bogota colombie capital amérique du sud Fusagasugá Fusagasuga rhum coloma café">

  <!-- CMP / consentmanager -->
  <script type="text/javascript" data-cmp-ab="1"
          src="https://cdn.consentmanager.net/delivery/autoblocking/62cc8437f29ac.js"
          data-cmp-host="b.delivery.consentmanager.net"
          data-cmp-cdn="cdn.consentmanager.net"
          data-cmp-codesrc="16"></script>

  <!-- Google Consent Mode (valeurs par défaut = refus) -->
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){ dataLayer.push(arguments); }
    gtag('consent', 'default', {
      ad_storage: 'denied',
      analytics_storage: 'denied',
      ad_user_data: 'denied',
      ad_personalization: 'denied',
      wait_for_update: 500
    });
  </script>

  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-92M6CENDXH"></script>
  <script>
    gtag('js', new Date());
    gtag('config', 'G-92M6CENDXH', { anonymize_ip: true });
  </script>

  <!-- Canonical + hreflang -->
  <link rel="canonical" href="https://www.ohlalatoursbogota.com{{ request.path }}{% if get_locale()!='fr' %}?lang={{ get_locale() }}{% endif %}">
  <link rel="alternate" href="{{ url_for('tours', lang='fr', _external=True) }}" hreflang="fr">
  <link rel="alternate" href="{{ url_for('tours', lang='en', _external=True) }}" hreflang="en">
  <link rel="alternate" href="{{ url_for('tours', lang='es', _external=True) }}" hreflang="es">
  <link rel="alternate" href="{{ url_for('tours', lang='fr', _external=True) }}" hreflang="x-default">

  <!-- Open Graph / Twitter -->
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://www.ohlalatoursbogota.com{{ request.path }}{% if get_locale()!='fr' %}?lang={{ get_locale() }}{% endif %}">
  <meta property="og:site_name" content="Oh La La Tours Bogotá">
  <meta property="og:title" content="{{ _('Tours privés à Bogotá – Candelaria Monserrate Zipaquirá café') }}">
  <meta property="og:description" content="{{ _('Découvrez nos visites guidées Candelaria Monserrate Cathédrale de sel de Zipaquirá cascade La Chorrera et finca café Guides francophones Transport van et transferts aéroport') }}">
  <meta property="og:image" content="{{ url_for('static', filename='images/header_tours.jpg', _external=True) }}">
  {% if get_locale() == 'fr' %}
  <meta property="og:locale" content="fr_FR">
  {% elif get_locale() == 'en' %}
  <meta property="og:locale" content="en_US">
  {% else %}
  <meta property="og:locale" content="es_CO">
  {% endif %}

  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="{{ _('Tours privés à Bogotá – Candelaria, Monserrate, Zipaquirá, café') }}">
  <meta name="twitter:description" content="{{ _('Découvrez nos visites guidées : Candelaria, Monserrate, Cathédrale de sel de Zipaquirá, cascade La Chorrera et finca café. Guides francophones. Transport/van et transferts aéroport.') }}">
  <meta name="twitter:image" content="{{ url_for('static', filename='images/header_tours.jpg', _external=True) }}">

  <!-- CSS -->
  <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css"/>

  <!-- ✅ Styles AJOUTÉS pour le header fixe + logo -->
  <style>
    .site-header{
      position:fixed; top:0; left:0; right:0; z-index:70;
      display:flex; align-items:center; justify-content:space-between;
      padding:10px 16px; gap:16px;
      background:transparent; transition:background .25s ease, box-shadow .25s ease;
    }
    .brand{display:inline-flex; align-items:center; gap:10px}
    .logo{height:44px; width:auto; display:block}
    @media (max-width:640px){ .logo{height:32px} }

    .main-nav{display:flex; align-items:center; gap:18px; font-weight:600}
    .main-nav a{text-decoration:none}
    .lang-switcher{display:flex; gap:8px; margin-left:8px}
    .lang-switcher a{font-size:20px; line-height:1; padding:4px 6px; border-radius:6px}

    /* Sur cette page (hero en fond) : liens & logo blancs au départ */
    .header-on-hero .main-nav a{color:#fff; text-shadow:0 1px 2px rgba(0,0,0,.35)}
    .logo--dark{display:none}

    /* Au scroll / fond clair */
    .site-header.scrolled{
      background: rgba(255,255,255,.86);
      backdrop-filter: saturate(180%) blur(8px);
      box-shadow: 0 2px 10px rgba(0,0,0,.08);
    }
    .site-header.scrolled .logo--light{display:none}
    .site-header.scrolled .logo--dark{display:block}
    .site-header.scrolled .main-nav a{color:#0f172a}
  </style>

  <!-- ✅ AJOUT MINIMAL: réactive l’effet glissant & flèches toujours cliquables -->
  <style>
    .tour-swiper{ position: relative; z-index: 2; touch-action: pan-y; }
    .tour-swiper .swiper-button-next,
    .tour-swiper .swiper-button-prev{ z-index: 5; pointer-events: auto; }
    .tour-swiper .swiper-wrapper{
      transition-property: transform !important;
      transition-duration: 650ms !important;
      transition-timing-function: cubic-bezier(.22,.61,.36,1) !important;
      height: 100%;
    }
    .tour-swiper .swiper-slide{ width: 100% !important; display: flex; }
    .hero::after { pointer-events: none; }
  </style>

  <style>
    /* --- POLICE GLOBALE --- */
    @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600&display=swap');
    body { font-family: 'Poppins', sans-serif; background-color: #f8f0e8; color: #333; line-height: 1.6; }
    * { margin: 0; padding: 0; box-sizing: border-box; }
    html, body { height: 100%; }
    a { color: inherit; text-decoration: none; } a:hover { text-decoration: underline; }
    img { max-width: 100%; height: auto; display: block; }

    /* ========= HERO ========= */
    .hero { position: relative; width: 100%; height: 50vh; background-position: center; background-size: cover; background-repeat: no-repeat; display: flex; align-items: center; justify-content: center; text-align: center; }
    .hero::after { content: ""; position: absolute; inset: 0; background: rgba(0,0,0,0.35); }
    .hero-title { position: relative; z-index: 1; color: #fff; font-size: 2.6rem; line-height: 1.2; text-shadow: 2px 2px 6px rgba(0,0,0,0.7); padding: 0 16px; }

    /* ========= BLOCS ========= */
    body, main, section, .container, .testimonials, .testimonial-card, .tour-card .content { background-color: #f8f0e8 !important; }

    /* ========= TOURS ========= */
    #excursions { max-width: 1200px; margin: 50px auto; padding: 0 20px; }
    .tour-card { display: flex; align-items: center; gap: 20px; margin-bottom: 60px; flex-wrap: wrap; }
    .tour-card.left  { flex-direction: row; }
    .tour-card.right { flex-direction: row-reverse; }

    /* Swiper */
    .tour-swiper { width: 50%; height: 350px; border-radius: 10px; overflow: hidden; }
    .tour-swiper img { width: 100%; height: 100%; object-fit: cover; }
    .tour-swiper .swiper-wrapper{ height: 100%; }
    .tour-swiper .swiper-slide{ display: flex; }

    /* Flèches */
    .swiper-button-next, .swiper-button-prev {
      color: #fff !important;
      text-shadow: 0 0 6px rgba(0,0,0,.65);
    }
    .swiper-button-next::after, .swiper-button-prev::after { font-size: 24px; }

    /* Contenu cartes tours */
    .tour-card .content { width: 50%; padding: 15px; border-radius: 10px; max-width: 680px; }
    .tour-card h3.tour-title { font-size: clamp(26px, 3.2vw, 36px); line-height: 1.15; margin: 0 0 10px; letter-spacing: .2px; }
    .tour-lead { font-size: clamp(16px, 1.8vw, 18px); line-height: 1.7; color: rgba(0,0,0,.78); margin: 10px 0 16px; max-width: 62ch; }

    /* Bloc "Inclus" */
    .tour-includes { position: relative; margin: 14px 0 12px; padding-left: 14px; flex-basis:100%; order:3; }
    .tour-includes::before { content: ""; position: absolute; left: 0; top: 4px; bottom: 4px; width: 4px; border-radius: 4px; background: linear-gradient(180deg, #f59e0b, #f97316); }
    .includes-title { margin: 0 0 8px; font-size: 14px; letter-spacing: .4px; text-transform: uppercase; opacity: .8; }
    .includes-list { list-style: none; margin: 0; padding: 0; display: grid; gap: 8px 14px; grid-template-columns: 1fr; }
    .includes-list li { position: relative; padding-left: 26px; line-height: 1.6; }
    .includes-list li::before { content: "✓"; position: absolute; left: 0; top: 0; font-weight: 700; transform: translateY(1px); opacity: .9; }
    @media (min-width: 900px) { .includes-list { grid-template-columns: 1fr 1fr; } }

    /* Chips */
    .tour-chips { list-style: none; padding: 0; margin: 0; display: flex; flex-wrap: wrap; gap: 16px; }
    .tour-chips .chip { background: none !important; border: none !important; padding: 0 !important; border-radius: 0 !important; box-shadow: none !important; font-size: 16px; line-height: 1.6; }
    .tour-chips .chip strong { font-weight: 700; }

    .tour-meta{ flex-basis:100%; order:4; display:flex; align-items:center; gap:18px; flex-wrap:wrap; margin-top:8px; }

    .btn-primary { appearance: none; border: 1px solid rgba(0,0,0,.2); background: #2563eb; color: #fff; padding: 12px 18px; border-radius: 12px; font-weight: 700; cursor: pointer; transition: transform .06s ease, filter .2s ease; }
    .btn-primary:hover { filter: brightness(1.05); }
    .btn-primary:active { transform: translateY(1px); }

    @media (max-width: 900px){
      .tour-card{ flex-direction: column !important; }
      .tour-swiper, .tour-card .content{ width: 100%; }
      .hero-title{ font-size: 2.1rem; }
      .tour-meta{ flex-direction: column; align-items: flex-start; gap: 10px; }
    }
  </style>

  <!-- 🔧 Bloc CSS additionnel (ajouté, rien supprimé) -->
  <style>
    .tour-swiper{ isolation:isolate; }
    .tour-swiper .swiper-button-next,
    .tour-swiper .swiper-button-prev{ z-index: 9999 !important; pointer-events: auto !important; }
    .hero::after{ pointer-events: none !important; }
    .no-swiper .swiper-wrapper{ display:block !important; }
    .no-swiper .swiper-slide{ display:none !important; }
    .no-swiper .swiper-slide._is-active{ display:block !important; }
  </style>

<link rel="apple-touch-icon" sizes="180x180" href="{{ url_for('static', filename='img/favicon/apple-touch-icon.png') }}">
<link rel="icon" type="image/png" sizes="32x32" href="{{ url_for('static', filename='img/favicon/favicon-32x32.png') }}">
<link rel="icon" type="image/png" sizes="16x16" href="{{ url_for('static', filename='img/favicon/favicon-16x16.png') }}">
<link rel="manifest" href="{{ url_for('static', filename='img/favicon/site.webmanifest') }}">
<link rel="icon" type="image/x-icon" href="{{ url_for('static', filename='img/favicon/favicon.ico') }}">
<meta name="theme-color" content="#0b4654">

<link rel="icon" href="/favicon.ico" sizes="any">

<meta name="google-site-verification" content="4z28-XXEkdcB_VOcaGoy1bhgA-zj7xr6wSf76ZwZ4tQ" />

</head>
<body>

<header class="site-header header-on-hero">
  <div class="logo-container">
    <!-- Logo clair (sur hero/photo) -->
    <img src="{{ url_for('static', filename='img/logo-light.png') }}" alt="Oh La La Tours Bogotá" class="logo logo--light">
    <!-- Logo foncé (après scroll, fond clair) -->
    <img src="{{ url_for('static', filename='img/logo-dark.png') }}" alt="Oh La La Tours Bogotá" class="logo logo--dark">
    <span class="site-title">Oh La La Tours Bogotá</span>
    /* Header sur la hero : liens/titre en blanc */
    .header-on-hero .site-title{ color:#fff; text-shadow:0 1px 2px rgba(0,0,0,.35); }
    .header-on-hero .main-nav a{ color:#fff; text-shadow:0 1px 2px rgba(0,0,0,.35); }
  </div>



    <nav class="main-nav" aria-label="{{ _('Navigation principale') }}">
      <a href="{{ url_for('index', lang=get_locale()) }}">{{ _("Accueil") }}</a>
      <a href="{{ url_for('tours', lang=get_locale()) }}">{{ _("Nos tours") }}</a>
      <a href="{{ url_for('transport', lang=get_locale()) }}">{{ _("Service de Transport") }}</a>
      <a href="{{ url_for('reservation', lang=get_locale()) }}">{{ _("Réservation") }}</a>

      <div class="lang-switcher" aria-label="{{ _('Changer de langue') }}">
        <a href="{{ lang_url('fr') }}" lang="fr" aria-label="Français">🇫🇷<span class="sr-only">Français</span></a>
        <a href="{{ lang_url('en') }}" lang="en" aria-label="English">🇺🇸<span class="sr-only">English</span></a>
        <a href="{{ lang_url('es') }}" lang="es" aria-label="Español">🇪🇸<span class="sr-only">Español</span></a>
      </div>
    </nav>
  </header>

  <!-- Bandeau image + titre (ancienne topbar supprimée) -->
  <header class="hero background-half"
          style="background-image: url('{{ url_for('static', filename='images/header_tours.jpg') }}');">
      <h1 class="hero-title">{{ _("Nos tours") }}</h1>
  </header>

  <!-- Liste des excursions -->
  <main>
    <section id="excursions">

{% set tours_data = [
  {
    "slug": "candelaria",
    "title": _("La Candelaria : Histoire, art et secrets du cœur de Bogotá"),
    "desc": _("Laissez-vous séduire par l’âme coloniale de Bogotá et partez à la découverte de La Candelaria, son quartier le plus coloré et vibrant. Entre ruelles pavées, façades colorées et fresques spectaculaires, chaque pas vous plonge dans un voyage à travers l’histoire, l’art et les traditions de la ville. Au fil de notre balade, vous écouterez des légendes fascinantes, revivrez des épisodes marquants de la politique colombienne et admirerez un art urbain qui donne vie aux murs de la capitale. Un moment privilégié pour comprendre Bogotá au-delà des clichés."),
    "includes": [
      _("Transport aller-retour depuis votre hébergement"),
      _("Guide locale passionnée et experte"),
      _("Visite à pied des sites historiques et culturels emblématiques"),
      _("Exploration des fresques et du street art"),
      _("Récits authentiques sur l’histoire, la politique et les traditions"),
      _("Dégustation de café colombien d’exception"),
      _("Conseils personnalisés pour vos découvertes gastronomiques et culturelles")
    ],
    "infos": [
      _("Durée : ~3h30 heures"),
      _("Langues : 🇪🇸 🇫🇷 🇺🇸"),
      _("Tarif : à confirmer")
    ],
    "images": ["candelaria1.jpg", "candelaria2.jpg", "candelaria3.jpg"]
  },
  {
    "slug": "monserrate",
    "title": _("Monserrate : Là où se rencontrent nature, histoire et foi"),
    "desc": _("Grimpez au sommet le plus emblématique de Bogotá et vivez une expérience unique qui mêle nature, histoire et spiritualité. Nous monterons en téléphérique pour profiter de l’une des plus belles vues sur la capitale, entourés par la luxuriante végétation andine. Au sommet, nous visiterons le Sanctuaire du Señor Caído, haut lieu de ferveur spirituelle, avant de parcourir ses alentours pour admirer le paysage, l’architecture et les traditions qui font de Monserrate un site incontournable."),
    "includes": [
      _("Guide locale experte"),
      _("Montée en téléphérique et descente en funiculaire"),
      _("Récits historiques, culturels et spirituels"),
      _("Dégustation de café colombien au sommet"),
      _("Transport aller-retour depuis votre hébergement (optionnel)")
    ],
    "infos": [
      _("Durée : ~2h30 heures"),
      _("Langues : 🇪🇸 🇫🇷 🇺🇸"),
      _("Tarif : à confirmer")
    ],
    "images": ["monserratevue.jpg", "monserrate2.jpg", "monserrate3.jpg", "monserrate4.jpg"]
  },
  {
    "slug": "zipaquira",
    "title": _("Cathédrale de Sel de Zipaquirá : un joyau souterrain unique au monde"),
    "desc": _("Découvrez les profondeurs de la terre et émerveillez-vous devant l’une des œuvres les plus impressionnantes de Colombie. Creusée dans une ancienne mine de sel, la Cathédrale de Zipaquirá allie grandeur architecturale, spiritualité et histoire minière. Nous parcourrons ses galeries monumentales, illuminées par un spectaculaire jeu de lumières, et admirerons les sculptures taillées dans le sel, témoins du savoir-faire et de la foi de ses bâtisseurs."),
    "includes": [
      _("Guide locale passionnée et experte"),
      _("Entrée à la Cathédrale de Sel"),
      _("Récits historiques, culturels et spirituels"),
      _("Déjeuner traditionnel"),
      _("Temps libre pour explorer et prendre des photos"),
      _("Transport aller-retour depuis votre hébergement")
    ],
    "infos": [
      _("Durée : ~7h (transfert inclus)"),
      _("Langues : 🇫🇷 🇪🇸 🇺🇸"),
      _("Tarif : à confirmer")
    ],
    "images": ["zipaquira1.jpg", "zipaquira2.jpg", "zipaquira3.jpg"]
  },
  {
    "slug": "la-chorrera",
    "title": _("Cascade de La Chorrera : la plus haute chute d’eau de Colombie"),
    "desc": _("Découvrez une aventure inoubliable au cœur des montagnes andines et contemplez La Chorrera, la plus haute cascade du pays. Nous emprunterons des sentiers bordés d’une végétation luxuriante, en observant la richesse de la faune et de la flore locales. Tout au long de la randonnée, nous profiterons de paysages spectaculaires jusqu’à atteindre la chute vertigineuse de plus de 590 mètres, un spectacle naturel à couper le souffle."),
    "includes": [
      _("Guide locale passionnée et experte"),
      _("Entrée au parc naturel"),
      _("Informations sur la faune, la flore et l’histoire du site"),
      _("Snack léger (prévoir un petit encas supplémentaire)"),
      _("Pause pour se reposer et admirer la vue"),
      _("Transport aller-retour depuis votre hébergement")
    ],
    "infos": [
      _("Durée : ~7–8h"),
      _("Langues : 🇫🇷 🇪🇸 🇺🇸"),
      _("Tarif : à confirmer")
    ],
    "images": ["chorrera1.jpg", "chorrera2.jpeg", "chorrera3.jpeg"]
  },
  {
    "slug": "finca-cafe",
    "title": _("Visite d’une finca de café près de Bogotá"),
    "desc": _("Découvrez le café colombien depuis sa source : marchez parmi les caféiers, apprenez la plantation, la récolte et la mouture, et dégustez une tasse fraîchement préparée dans un cadre authentique."),
    "includes": [
      _("Petit-déjeuner typique colombien"),
      _("Entrée à la finca de café"),
      _("Visite guidée de la plantation et des installations"),
      _("Explication du processus de production du café"),
      _("Dégustation de café fraîchement préparé"),
      _("Transport aller-retour depuis Bogotá")
    ],
    "infos": [
      _("Durée : ~7–8h"),
      _("Langues : 🇫🇷 🇪🇸 🇺🇸"),
      _("Tarif : à confirmer")
    ],
    "images": ["finca-cafe1.jpg", "finca-cafe2.jpg", "finca-cafe3.jpg"]
  }
] %}

{# >>> ALT maps FR/EN/ES inchangées pour ne rien supprimer #}
{% set alt_map = {
  'candelaria1.jpg': _('Maisons coloniales colorées dans la Candelaria centre historique de Bogota quartier colonial bogota graffitis bogota street art ruelles pavées andines maisons colorées façades chorro de quevedo guide francophone centre historique'),
  'candelaria2.jpg': _('Street art de Bogota pendant la visite guidée de la Candelaria '),
  'candelaria3.jpg': _('Ruelles pavées et façades coloniales à La Candelaria'),
  'monserratevue.jpg': _('Vue panoramique depuis Monserrate au dessus de Bogota téléphérique bogota sanctuaire senor caido vue panoramique bogota coucher de soleil andes funiculaire monserrate courte randonnée sommet'),
  'monserrate2.jpg': _('Sanctuaire du Senor Caido à Monserrate'),
  'monserrate3.jpg': _('Montée en téléphérique à Monserrate'),
  'monserrate4.jpg': _('Paysages andins autour de Bogotá vus de Monserrate'),
  'zipaquira1.jpg': _('Cathédrale de sel de Zipaquira galerie souterraine illuminée cathédrale de sel mine de sel souterraine croix sculptées sel éclairage bleu violet via crucis galerie minière'),
  'zipaquira2.jpg': _('Croix sculptées dans le sel à Zipaquira'),
  'zipaquira3.jpg': _('Couloirs miniers et jeux de lumière à Zipaquira'),
  'chorrera1.jpg': _('Sentier andin vers la cascade de La Chorrera randonnée andine jungle de brouillard cascade 590m réserve naturelle choachí ponts et sentiers brume tropicale'),
  'chorrera2.jpeg': _('La Chorrera plus haute cascade de Colombie randonnée cascade'),
  'chorrera3.jpeg': _('Paysage de montagne et brume près de La Chorrera cascade'),
  'finca-cafe1.jpg': _('Plantation de café grains et caféiers plantation café arabica cerises de café à la main séchage sur patios récolte manuelle dégustation café finca'),
  'finca-cafe2.jpg': _('Processus de torréfaction et mouture du café expresso machiato graine de café'),
  'finca-cafe3.jpg': _('Visite d’une finca café près de Bogotá grains fraîchement récoltés hacienda coloma rhum coloma rhum ')
} %}
{% set alt_map_en = {
  'candelaria1.jpg': _('Colorful colonial houses in La Candelaria historic center of Bogota colonial quarter bogota bogota street art murals cobblestone alleys andean colorful facades chorro de quevedo french speaking guide historic center'),
  'candelaria2.jpg': _('Bogota street art during La Candelaria walking tour murals'),
  'candelaria3.jpg': _('Cobblestone alleys and colonial facades in La Candelaria'),
  'monserratevue.jpg': _('Panoramic view from Monserrate above Bogota cable car bogota sanctuary senor cado panoramic view bogota andes sunset monserrate funicular short hike summit'),
  'monserrate2.jpg': _('Sanctuary of Señor Caído at Monserrate'),
  'monserrate3.jpg': _('Ascent by cable car to Monserrate'),
  'monserrate4.jpg': _('Andean landscapes around Bogota seen from Monserrate'),
  'zipaquira1.jpg': _('Salt Cathedral of Zipaquira illuminated underground gallery salt cathedral underground salt mine carved salt crosses blue purple lighting via crucis mining gallery'),
  'zipaquira2.jpg': _('Carved salt crosses in Zipaquira'),
  'zipaquira3.jpg': _('Mining corridors and light effects in Zipaquira'),
  'chorrera1.jpg': _('Andean trail to La Chorrera waterfall andean hike cloud forest 590m waterfall choachi nature reserve bridges and trails tropical mist'),
  'chorrera2.jpeg': _('La Chorrera highest waterfall in Colombia hiking waterfall'),
  'chorrera3.jpeg': _('Mountain landscape and mist near La Chorrera waterfall'),
  'finca-cafe1.jpg': _('Arabica coffee plantation coffee cherries in hand patio drying hand picking coffee tasting at the farm'),
  'finca-cafe2.jpg': _('Roasting and grinding process espresso coffee beans'),
  'finca-cafe3.jpg': _('Visit to a coffee farm near Bogota freshly picked beans hacienda coloma')
} %}
{% set alt_map_es = {
  'candelaria1.jpg': _('Casas coloniales coloridas en La Candelaria centro histórico de Bogotá barrio colonial bogotá murales street art bogotá callejones empedrados fachadas coloridas plaza chorro de quevedo guía francófona centro histórico'),
  'candelaria2.jpg': _('Street art de Bogotá durante el tour por La Candelaria murales'),
  'candelaria3.jpg': _('Callejones empedrados y fachadas coloniales en La Candelaria'),
  'monserratevue.jpg': _('Vista panorámica desde Monserrate sobre Bogotá teleférico bogotá santuario señor caído vista panorámica bogotá atardecer andes funicular monserrate caminata corta cumbre'),
  'monserrate2.jpg': _('Santuario del Señor Caído en Monserrate'),
  'monserrate3.jpg': _('Subida en teleférico a Monserrate'),
  'monserrate4.jpg': _('Paisajes andinos alrededor de Bogotá vistos desde Monserrate'),
  'zipaquira1.jpg': _('Catedral de Sal de Zipaquirá galería subterránea iluminada catedral de sal mina de sal subterránea cruces talladas en sal iluminación azul violeta vía crucis galería minera'),
  'zipaquira2.jpg': _('Cruces talladas en sal en Zipaquirá'),
  'zipaquira3.jpg': _('Pasillos mineros y juegos de luces en Zipaquirá'),
  'chorrera1.jpg': _('Sendero andino hacia la cascada de La Chorrera caminata andina bosque de niebla cascada 590m reserva natural choachí puentes y senderos neblina tropical'),
  'chorrera2.jpeg': _('La Chorrera la cascada más alta de Colombia caminata cascada'),
  'chorrera3.jpeg': _('Paisaje de montaña y neblina cerca de la cascada La Chorrera'),
  'finca-cafe1.jpg': _('Plantación de café arábica cerezas de café en la mano secado en patios recolección manual cata de café en la finca'),
  'finca-cafe2.jpg': _('Proceso de tostión y molienda espresso granos de café'),
  'finca-cafe3.jpg': _('Visita a una finca cafetera cerca de Bogotá recién recolectados hacienda coloma')
} %}
{% set _alt_maps = {'fr': alt_map, 'en': alt_map_en, 'es': alt_map_es} %}
{% set ALT = _alt_maps.get(get_locale(), alt_map) %}

      {% for tour in tours_data %}
      <div class="tour-card {% if loop.index is odd %}left{% else %}right{% endif %}">
        <div class="swiper tour-swiper" aria-label="{{ _('Galerie d’images du tour') }} {{ tour.title }}">
          <div class="swiper-wrapper">
            {% for img in tour.images %}
            <div class="swiper-slide">
              <img src="{{ url_for('static', filename='images/' ~ img) }}" alt="{{ tour.title }} {{ ALT.get(img) or alt_map.get(img, '') }}">
            </div>
            {% endfor %}
          </div>
          <div class="swiper-button-next" aria-label="{{ _('Image suivante') }}"></div>
          <div class="swiper-button-prev" aria-label="{{ _('Image précédente') }}"></div>
        </div>

        <div class="content">
          <h3 class="tour-title">{{ tour.title }}</h3>
          <p class="tour-lead">{{ tour.desc }}</p>
        </div>

        {% if tour.includes is defined and tour.includes %}
        <div class="tour-includes">
          <h4 class="includes-title">{{ _("Ce qui est inclus :") }}</h4>
          <ul class="includes-list">
            {% for item in tour.includes %}
            <li>{{ item }}</li>
            {% endfor %}
          </ul>
        </div>
        {% endif %}

        <div class="tour-meta">
          <ul class="tour-chips" aria-label="{{ _('Informations pratiques') }}">
            {% for info in tour.infos %}
              {% set parts = info.split(':') %}
              <li class="chip">
                <strong>{{ parts[0] }}:</strong>&nbsp;{{ parts[1] if parts|length > 1 else '' }}
              </li>
            {% endfor %}
          </ul>

          <a href="{{ url_for('reservation', tour=tour.slug, lang=get_locale()) }}">
            <button class="btn-primary">{{ _("Réserver") }}</button>
          </a>
        </div>
      </div>
      {% endfor %}

    </section>
  </main>

  <!-- Données structurées -->
  <script type="application/ld+json">
  {
    "@context":"https://schema.org",
    "@type":"ItemList",
    "name":"Tours privés à Bogotá",
    "itemListElement":[
      {% for tour in tours_data %}
      {
        "@type":"ListItem",
        "position": {{ loop.index }},
        "item": {
          "@type":"TouristTrip",
          "name": {{ tour.title|tojson }},
          "description": {{ tour.desc|tojson }},
          "url": "{{ url_for('reservation', tour=tour.slug, _external=True, lang=get_locale()) }}",
          "touristType": ["Couples","Familles","Groupes","Solo"],
          "inLanguage": [{% if get_locale() == 'fr' %}"fr"{% elif get_locale() == 'en' %}"en"{% else %}"es"{% endif %}]
        }
      }{% if not loop.last %},{% endif %}
      {% endfor %}
    ]
  }
  </script>

  <!-- JS Swiper (original) -->
  <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
  <script>
    (function(){
      function initTourSwipers(){
        document.querySelectorAll('.tour-swiper').forEach(function(slider){
          if (slider.dataset.initialized === "1") return;
          slider.dataset.initialized = "1";
          var nextBtn = slider.querySelector('.swiper-button-next');
          var prevBtn = slider.querySelector('.swiper-button-prev');

          new Swiper(slider, {
            slidesPerView: 1,
            spaceBetween: 0,
            effect: 'slide',
            speed: 700,
            loop: true,
            loopAdditionalSlides: 1,
            watchOverflow: true,
            preloadImages: true,
            lazy: { loadPrevNext: true },
            autoplay: { delay: 3500, disableOnInteraction: false, pauseOnMouseEnter: true },
            observer: true,
            observeParents: true,
            observeSlideChildren: true,
            simulateTouch: true,
            grabCursor: true,
            keyboard: { enabled: true, onlyInViewport: true },
            navigation: { nextEl: nextBtn, prevEl: prevBtn }
          });
        });
      }
      if (document.readyState === "loading") {
        document.addEventListener('DOMContentLoaded', initTourSwipers);
        window.addEventListener('load', initTourSwipers);
      } else {
        initTourSwipers();
      }
    })();
  </script>

  <!-- 🔧 Script additionnel de secours (ajouté, rien supprimé) -->
  <script>
  (function(){
    function wireFallback(){
      document.querySelectorAll('.tour-swiper').forEach(function(root){
        const nextEl = root.querySelector('.swiper-button-next');
        const prevEl = root.querySelector('.swiper-button-prev');
        const slides = Array.from(root.querySelectorAll('.swiper-slide'));
        const sw = root.swiper || root._swiper;

        if (nextEl){
          nextEl.addEventListener('click', function(e){
            if (sw && typeof sw.slideNext === 'function'){ sw.slideNext(); }
            else { manualNext(root, slides); }
          }, { passive:true });
        }
        if (prevEl){
          prevEl.addEventListener('click', function(e){
            if (sw && typeof sw.slidePrev === 'function'){ sw.slidePrev(); }
            else { manualPrev(root, slides); }
          }, { passive:true });
        }

        if (!(window.Swiper) || !(sw)){
          root.classList.add('no-swiper');
          if (!root.dataset._fallback){
            root.dataset._fallback = '1';
            if (slides.length){
              slides.forEach(s => s.classList.remove('_is-active'));
              slides[0].classList.add('_is-active');
              slides[0].style.display = 'block';
            }
          }
        }
      });
    }

    function manualNext(root, slides){
      if (!slides.length) return;
      const idx = slides.findIndex(s => s.classList.contains('_is-active'));
      const next = (idx >= 0 ? (idx + 1) % slides.length : 1 % slides.length);
      showAt(slides, next);
    }
    function manualPrev(root, slides){
      if (!slides.length) return;
      const idx = slides.findIndex(s => s.classList.contains('_is-active'));
      const prev = (idx >= 0 ? (idx - 1 + slides.length) % slides.length : 0);
      showAt(slides, prev);
    }
    function showAt(slides, i){
      slides.forEach((s,k) => {
        if (k === i){ s.classList.add('_is-active'); s.style.display='block'; }
        else { s.classList.remove('_is-active'); s.style.display='none'; }
      });
    }

    if (document.readyState === 'loading'){
      document.addEventListener('DOMContentLoaded', wireFallback);
      window.addEventListener('load', wireFallback);
    } else { wireFallback(); }
  })();
  </script>

  <!-- ✅ Script AJOUTÉ : toggle du header au scroll -->
  <script>
    (function(){
      const header = document.querySelector('.site-header');
      if(!header) return;
      function onScroll(){ header.classList.toggle('scrolled', window.scrollY > 60); }
      onScroll();
      window.addEventListener('scroll', onScroll, {passive:true});
    })();
  </script>
</body>
</html>


